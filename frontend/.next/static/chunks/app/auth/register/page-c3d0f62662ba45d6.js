(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{3451:function(e,t,a){Promise.resolve().then(a.bind(a,1603))},1603:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var r=a(7437),s=a(2265),n=a(9376),i=a(7648),o=a(4362),c=a(2381),l=a(9820);function u(){let[e,t]=(0,s.useState)(""),[a,u]=(0,s.useState)(""),[d,f]=(0,s.useState)(""),[m,g]=(0,s.useState)(""),[p,h]=(0,s.useState)(!1),{register:y}=(0,o.a)(),x=(0,n.useRouter)(),v=async t=>{if(t.preventDefault(),d!==m){alert("Passwords do not match!");return}if(d.length<8){alert("Password must be at least 8 characters!");return}h(!0);try{await y(e,a,d),x.push("/dashboard")}catch(e){console.error("Registration error:",e)}finally{h(!1)}};return(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background p-4",children:(0,r.jsxs)(l.Zb,{className:"w-full max-w-md",children:[(0,r.jsxs)(l.Ol,{className:"space-y-1",children:[(0,r.jsx)(l.ll,{className:"text-3xl font-bold text-center",children:"Create Account"}),(0,r.jsx)(l.SZ,{className:"text-center",children:"Enter your details to get started"})]}),(0,r.jsxs)(l.aY,{children:[(0,r.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),(0,r.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),className:"w-full px-3 py-2 border rounded-md bg-background focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"name@example.com",required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"username",className:"text-sm font-medium",children:"Username"}),(0,r.jsx)("input",{id:"username",type:"text",value:a,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border rounded-md bg-background focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"johndoe",required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),(0,r.jsx)("input",{id:"password",type:"password",value:d,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border rounded-md bg-background focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"••••••••",required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"text-sm font-medium",children:"Confirm Password"}),(0,r.jsx)("input",{id:"confirmPassword",type:"password",value:m,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border rounded-md bg-background focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"••••••••",required:!0})]}),(0,r.jsx)(c.z,{type:"submit",className:"w-full",disabled:p,children:p?"Creating account...":"Create Account"})]}),(0,r.jsxs)("div",{className:"mt-4 text-center text-sm",children:["Already have an account?"," ",(0,r.jsx)(i.default,{href:"/auth/login",className:"text-primary hover:underline",children:"Sign In"})]})]})]})})}},2381:function(e,t,a){"use strict";a.d(t,{z:function(){return i}});var r=a(7437),s=a(2265),n=a(6474);let i=s.forwardRef((e,t)=>{let{className:a,variant:s="default",size:i="default",...o}=e;return(0,r.jsx)("button",{className:(0,n.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"}[s],{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}[i],a),ref:t,...o})});i.displayName="Button"},9820:function(e,t,a){"use strict";a.d(t,{Ol:function(){return o},SZ:function(){return l},Zb:function(){return i},aY:function(){return u},ll:function(){return c}});var r=a(7437),s=a(2265),n=a(6474);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});i.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});o.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});c.displayName="CardTitle";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});l.displayName="CardDescription";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});u.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter"},4362:function(e,t,a){"use strict";a.d(t,{H:function(){return c},a:function(){return l}});var r=a(7437),s=a(2265),n=a(8223),i=a(4242);let o=(0,s.createContext)(void 0);function c(e){let{children:t}=e,[a,c]=(0,s.useState)(null),[l,u]=(0,s.useState)(!0);(0,s.useEffect)(()=>{d()},[]);let d=async()=>{try{if(localStorage.getItem("accessToken")){let e=await n.E.getMe();c(e.data)}}catch(e){console.error("Auth check failed:",e),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")}finally{u(!1)}},f=async(e,t)=>{try{let{accessToken:a,refreshToken:r,user:s}=(await n.E.login(e,t)).data;localStorage.setItem("accessToken",a),localStorage.setItem("refreshToken",r),c(s),i.Am.success("Login successful!")}catch(t){var a,r;let e=(null===(r=t.response)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.message)||"Login failed";throw i.Am.error(e),t}},m=async(e,t,a)=>{try{let{accessToken:r,refreshToken:s,user:o}=(await n.E.register(e,t,a)).data;localStorage.setItem("accessToken",r),localStorage.setItem("refreshToken",s),c(o),i.Am.success("Registration successful!")}catch(t){var r,s;let e=(null===(s=t.response)||void 0===s?void 0:null===(r=s.data)||void 0===r?void 0:r.message)||"Registration failed";throw i.Am.error(e),t}},g=async()=>{try{await n.E.logout()}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),c(null),i.Am.info("Logged out successfully")}};return(0,r.jsx)(o.Provider,{value:{user:a,loading:l,login:f,register:m,logout:g,isAuthenticated:!!a},children:t})}function l(){let e=(0,s.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6474:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var r=a(1994),s=a(3335);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}},8223:function(e,t,a){"use strict";a.d(t,{E:function(){return n}});var r=a(3464);class s{async login(e,t){return(await this.api.post("/api/auth/login",{email:e,password:t})).data}async register(e,t,a){return(await this.api.post("/api/auth/register",{email:e,username:t,password:a})).data}async logout(){return(await this.api.post("/api/auth/logout")).data}async getMe(){return(await this.api.get("/api/auth/me")).data}async getOpportunities(e){return(await this.api.get("/api/arbitrage/opportunities",{params:e})).data}async getOpportunityById(e){return(await this.api.get("/api/arbitrage/opportunities/".concat(e))).data}async getSummary(){return(await this.api.get("/api/arbitrage/summary")).data}async getStatistics(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"day";return(await this.api.get("/api/arbitrage/statistics",{params:{timeRange:e}})).data}async getUserFilters(){return(await this.api.get("/api/arbitrage/filters")).data}async updateUserFilters(e){return(await this.api.put("/api/arbitrage/filters",e)).data}async getTrades(){return(await this.api.get("/api/trades")).data}async getTradeById(e){return(await this.api.get("/api/trades/".concat(e))).data}async executeTrade(e,t){return(await this.api.post("/api/trades/execute",{opportunityId:e,amount:t})).data}async getTradeStats(){return(await this.api.get("/api/trades/stats")).data}constructor(){this.api=r.Z.create({baseURL:"",headers:{"Content-Type":"application/json"},withCredentials:!1}),this.api.interceptors.request.use(e=>{let t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),this.api.interceptors.response.use(e=>e,async e=>{var t;if((null===(t=e.response)||void 0===t?void 0:t.status)===401)try{let t=localStorage.getItem("refreshToken");if(t){let{accessToken:a}=(await this.api.post("/api/auth/refresh",{refreshToken:t})).data.data;if(localStorage.setItem("accessToken",a),e.config)return e.config.headers.Authorization="Bearer ".concat(a),this.api.request(e.config)}}catch(e){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/auth/login"}return Promise.reject(e)})}}let n=new s}},function(e){e.O(0,[350,514,971,117,744],function(){return e(e.s=3451)}),_N_E=e.O()}]);