(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{3844:function(e,t,a){Promise.resolve().then(a.t.bind(a,9974,23)),Promise.resolve().then(a.bind(a,4242)),Promise.resolve().then(a.t.bind(a,2778,23)),Promise.resolve().then(a.t.bind(a,2648,23)),Promise.resolve().then(a.bind(a,394))},394:function(e,t,a){"use strict";a.d(t,{Providers:function(){return w}});var r=a(7437),s=a(2265),n=(e,t,a,r,s,n,o,i)=>{let c=document.documentElement,l=["light","dark"];function u(t){(Array.isArray(e)?e:[e]).forEach(e=>{let a="class"===e,r=a&&n?s.map(e=>n[e]||e):s;a?(c.classList.remove(...r),c.classList.add(n&&n[t]?n[t]:t)):c.setAttribute(e,t)}),i&&l.includes(t)&&(c.style.colorScheme=t)}if(r)u(r);else try{let e=localStorage.getItem(t)||a,r=o&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;u(r)}catch(e){}},o=["light","dark"],i="(prefers-color-scheme: dark)",c="undefined"==typeof window,l=s.createContext(void 0),u=e=>s.useContext(l)?s.createElement(s.Fragment,null,e.children):s.createElement(m,{...e}),d=["light","dark"],m=e=>{let{forcedTheme:t,disableTransitionOnChange:a=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:c="theme",themes:u=d,defaultTheme:m=r?"system":"light",attribute:y="data-theme",value:v,children:w,nonce:b,scriptProps:S}=e,[k,T]=s.useState(()=>p(c,m)),[E,I]=s.useState(()=>"system"===k?f():k),C=v?Object.values(v):u,A=s.useCallback(e=>{let t=e;if(!t)return;"system"===e&&r&&(t=f());let s=v?v[t]:t,i=a?g(b):null,c=document.documentElement,l=e=>{"class"===e?(c.classList.remove(...C),s&&c.classList.add(s)):e.startsWith("data-")&&(s?c.setAttribute(e,s):c.removeAttribute(e))};if(Array.isArray(y)?y.forEach(l):l(y),n){let e=o.includes(m)?m:null,a=o.includes(t)?t:e;c.style.colorScheme=a}null==i||i()},[b]),_=s.useCallback(e=>{let t="function"==typeof e?e(k):e;T(t);try{localStorage.setItem(c,t)}catch(e){}},[k]),P=s.useCallback(e=>{I(f(e)),"system"===k&&r&&!t&&A("system")},[k,t]);s.useEffect(()=>{let e=window.matchMedia(i);return e.addListener(P),P(e),()=>e.removeListener(P)},[P]),s.useEffect(()=>{let e=e=>{e.key===c&&(e.newValue?T(e.newValue):_(m))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[_]),s.useEffect(()=>{A(null!=t?t:k)},[t,k]);let x=s.useMemo(()=>({theme:k,setTheme:_,forcedTheme:t,resolvedTheme:"system"===k?E:k,themes:r?[...u,"system"]:u,systemTheme:r?E:void 0}),[k,_,t,E,r,u]);return s.createElement(l.Provider,{value:x},s.createElement(h,{forcedTheme:t,storageKey:c,attribute:y,enableSystem:r,enableColorScheme:n,defaultTheme:m,value:v,themes:u,nonce:b,scriptProps:S}),w)},h=s.memo(e=>{let{forcedTheme:t,storageKey:a,attribute:r,enableSystem:o,enableColorScheme:i,defaultTheme:c,value:l,themes:u,nonce:d,scriptProps:m}=e,h=JSON.stringify([r,a,c,t,u,l,o,i]).slice(1,-1);return s.createElement("script",{...m,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?d:"",dangerouslySetInnerHTML:{__html:"(".concat(n.toString(),")(").concat(h,")")}})}),p=(e,t)=>{let a;if(!c){try{a=localStorage.getItem(e)||void 0}catch(e){}return a||t}},g=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},f=e=>(e||(e=window.matchMedia(i)),e.matches?"dark":"light"),y=a(4362),v=a(6252);function w(e){let{children:t}=e;return(0,r.jsx)(u,{attribute:"class",defaultTheme:"dark",enableSystem:!1,children:(0,r.jsx)(y.H,{children:(0,r.jsx)(v.w,{children:t})})})}},4362:function(e,t,a){"use strict";a.d(t,{H:function(){return c},a:function(){return l}});var r=a(7437),s=a(2265),n=a(8223),o=a(4242);let i=(0,s.createContext)(void 0);function c(e){let{children:t}=e,[a,c]=(0,s.useState)(null),[l,u]=(0,s.useState)(!0);(0,s.useEffect)(()=>{d()},[]);let d=async()=>{try{if(localStorage.getItem("accessToken")){let e=await n.E.getMe();c(e.data)}}catch(e){console.error("Auth check failed:",e),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")}finally{u(!1)}},m=async(e,t)=>{try{let{accessToken:a,refreshToken:r,user:s}=(await n.E.login(e,t)).data;localStorage.setItem("accessToken",a),localStorage.setItem("refreshToken",r),c(s),o.Am.success("Login successful!")}catch(t){var a,r;let e=(null===(r=t.response)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.message)||"Login failed";throw o.Am.error(e),t}},h=async(e,t,a)=>{try{let{accessToken:r,refreshToken:s,user:i}=(await n.E.register(e,t,a)).data;localStorage.setItem("accessToken",r),localStorage.setItem("refreshToken",s),c(i),o.Am.success("Registration successful!")}catch(t){var r,s;let e=(null===(s=t.response)||void 0===s?void 0:null===(r=s.data)||void 0===r?void 0:r.message)||"Registration failed";throw o.Am.error(e),t}},p=async()=>{try{await n.E.logout()}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),c(null),o.Am.info("Logged out successfully")}};return(0,r.jsx)(i.Provider,{value:{user:a,loading:l,login:m,register:h,logout:p,isAuthenticated:!!a},children:t})}function l(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6252:function(e,t,a){"use strict";a.d(t,{s:function(){return c},w:function(){return i}});var r=a(7437),s=a(2265),n=a(8680);let o=(0,s.createContext)(void 0);function i(e){let{children:t}=e,[a,i]=(0,s.useState)(null),[c,l]=(0,s.useState)(!1),[u,d]=(0,s.useState)([]);return(0,s.useEffect)(()=>{let e=localStorage.getItem("accessToken"),t=(0,n.io)("http://localhost:5000",{auth:{token:e||""},transports:["websocket","polling"]});return t.on("connect",()=>{console.log("Socket connected:",t.id),l(!0)}),t.on("disconnect",()=>{console.log("Socket disconnected"),l(!1)}),t.on("opportunities:update",e=>{d(e.data)}),t.on("trade:update",e=>{console.log("Trade update:",e)}),t.on("alert:notification",e=>{console.log("Alert:",e)}),t.on("system:message",e=>{console.log("System message:",e)}),i(t),()=>{t.disconnect()}},[]),(0,r.jsx)(o.Provider,{value:{socket:a,connected:c,opportunities:u,subscribeToOpportunities:()=>{a&&c&&a.emit("subscribe:opportunities",{})},unsubscribeFromOpportunities:()=>{a&&c&&a.emit("unsubscribe:opportunities")}},children:t})}function c(){let e=(0,s.useContext)(o);if(void 0===e)throw Error("useSocket must be used within a SocketProvider");return e}},8223:function(e,t,a){"use strict";a.d(t,{E:function(){return n}});var r=a(3464);class s{async login(e,t){return(await this.api.post("/api/auth/login",{email:e,password:t})).data}async register(e,t,a){return(await this.api.post("/api/auth/register",{email:e,username:t,password:a})).data}async logout(){return(await this.api.post("/api/auth/logout")).data}async getMe(){return(await this.api.get("/api/auth/me")).data}async getOpportunities(e){return(await this.api.get("/api/arbitrage/opportunities",{params:e})).data}async getOpportunityById(e){return(await this.api.get("/api/arbitrage/opportunities/".concat(e))).data}async getSummary(){return(await this.api.get("/api/arbitrage/summary")).data}async getStatistics(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"day";return(await this.api.get("/api/arbitrage/statistics",{params:{timeRange:e}})).data}async getUserFilters(){return(await this.api.get("/api/arbitrage/filters")).data}async updateUserFilters(e){return(await this.api.put("/api/arbitrage/filters",e)).data}async getTrades(){return(await this.api.get("/api/trades")).data}async getTradeById(e){return(await this.api.get("/api/trades/".concat(e))).data}async executeTrade(e,t){return(await this.api.post("/api/trades/execute",{opportunityId:e,amount:t})).data}async getTradeStats(){return(await this.api.get("/api/trades/stats")).data}constructor(){this.api=r.Z.create({baseURL:"http://localhost:5000",headers:{"Content-Type":"application/json"},withCredentials:!0}),this.api.interceptors.request.use(e=>{let t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),this.api.interceptors.response.use(e=>e,async e=>{var t;if((null===(t=e.response)||void 0===t?void 0:t.status)===401)try{let t=localStorage.getItem("refreshToken");if(t){let{accessToken:a}=(await this.api.post("/api/auth/refresh",{refreshToken:t})).data.data;if(localStorage.setItem("accessToken",a),e.config)return e.config.headers.Authorization="Bearer ".concat(a),this.api.request(e.config)}}catch(e){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/auth/login"}return Promise.reject(e)})}}let n=new s},2648:function(){},2778:function(){},9974:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3"}}},function(e){e.O(0,[329,350,680,971,117,744],function(){return e(e.s=3844)}),_N_E=e.O()}]);