(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[56],{6432:function(e,t,r){Promise.resolve().then(r.bind(r,5738))},5738:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var a=r(7437),s=r(2265),n=r(4853),i=r(9820),c=r(3804),o=r(9174),l=r(8223),d=r(6474),u=r(6424);function f(){let[e,t]=(0,s.useState)([]),[r,f]=(0,s.useState)(!0);(0,s.useEffect)(()=>{h()},[]);let h=async()=>{try{let e=await l.E.getTrades();t(e.data)}catch(e){console.error("Failed to fetch trades:",e)}finally{f(!1)}},m=e=>{switch(e){case"COMPLETED":return"success";case"FAILED":case"CANCELLED":return"destructive";case"PENDING":case"BUY_PLACED":case"SELL_PLACED":return"secondary";default:return"outline"}};return(0,a.jsx)(n.c,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Trade History"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"View all your executed trades and their status"})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{children:(0,a.jsx)(i.ll,{children:"Recent Trades"})}),(0,a.jsx)(i.aY,{children:r?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary mx-auto"})}):0===e.length?(0,a.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No trades yet. Execute your first trade from the dashboard!"}):(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)(c.iA,{children:[(0,a.jsx)(c.xD,{children:(0,a.jsxs)(c.SC,{children:[(0,a.jsx)(c.ss,{children:"Date"}),(0,a.jsx)(c.ss,{children:"Pair"}),(0,a.jsx)(c.ss,{children:"Buy Exchange"}),(0,a.jsx)(c.ss,{children:"Sell Exchange"}),(0,a.jsx)(c.ss,{children:"Amount"}),(0,a.jsx)(c.ss,{children:"Spread"}),(0,a.jsx)(c.ss,{children:"Net Profit"}),(0,a.jsx)(c.ss,{children:"Status"})]})}),(0,a.jsx)(c.RM,{children:e.map(e=>(0,a.jsxs)(c.SC,{children:[(0,a.jsx)(c.pj,{children:(0,u.WU)(new Date(e.executedAt),"MMM dd, yyyy HH:mm")}),(0,a.jsx)(c.pj,{className:"font-medium",children:e.tradingPair}),(0,a.jsx)(c.pj,{children:e.buyExchange}),(0,a.jsx)(c.pj,{children:e.sellExchange}),(0,a.jsx)(c.pj,{children:(0,d.formatCurrency)(parseFloat(e.amount),2)}),(0,a.jsx)(c.pj,{children:(0,a.jsx)(o.C,{variant:"success",children:(0,d.formatPercentage)(parseFloat(e.spreadPercentage))})}),(0,a.jsx)(c.pj,{className:"font-medium text-green-500",children:(0,d.formatCurrency)(parseFloat(e.netProfit),2)}),(0,a.jsx)(c.pj,{children:(0,a.jsx)(o.C,{variant:m(e.status),children:e.status})})]},e.id))})]})})})]})]})})}},4853:function(e,t,r){"use strict";r.d(t,{c:function(){return m}});var a=r(7437),s=r(4362),n=r(9376),i=r(2265),c=r(2381),o=r(7648),l=r(7692),d=r(5466),u=r(5621),f=r(6215),h=r(8728);function m(e){let{children:t}=e,{user:r,loading:m,logout:g,isAuthenticated:x}=(0,s.a)(),p=(0,n.useRouter)();return((0,i.useEffect)(()=>{m||x||p.push("/auth/login")},[x,m,p]),m)?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):x?(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)("header",{className:"border-b bg-card",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Arbitrage Scanner"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:null==r?void 0:r.email}),(0,a.jsxs)(c.z,{variant:"ghost",size:"sm",onClick:g,children:[(0,a.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("aside",{className:"w-64 border-r bg-card h-[calc(100vh-73px)] sticky top-[73px]",children:(0,a.jsxs)("nav",{className:"p-4 space-y-2",children:[(0,a.jsx)(o.default,{href:"/dashboard",children:(0,a.jsxs)(c.z,{variant:"ghost",className:"w-full justify-start",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Dashboard"]})}),(0,a.jsx)(o.default,{href:"/dashboard/trades",children:(0,a.jsxs)(c.z,{variant:"ghost",className:"w-full justify-start",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Trades"]})}),(0,a.jsx)(o.default,{href:"/dashboard/analytics",children:(0,a.jsxs)(c.z,{variant:"ghost",className:"w-full justify-start",children:[(0,a.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"Analytics"]})}),(0,a.jsx)(o.default,{href:"/dashboard/settings",children:(0,a.jsxs)(c.z,{variant:"ghost",className:"w-full justify-start",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Settings"]})})]})}),(0,a.jsx)("main",{className:"flex-1 p-6",children:t})]})]}):null}},9174:function(e,t,r){"use strict";r.d(t,{C:function(){return n}});var a=r(7437);r(2265);var s=r(6474);function n(e){let{className:t,variant:r="default",...n}=e;return(0,a.jsx)("div",{className:(0,s.cn)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}[r],t),...n})}},2381:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var a=r(7437),s=r(2265),n=r(6474);let i=s.forwardRef((e,t)=>{let{className:r,variant:s="default",size:i="default",...c}=e;return(0,a.jsx)("button",{className:(0,n.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"}[s],{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}[i],r),ref:t,...c})});i.displayName="Button"},9820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return c},SZ:function(){return l},Zb:function(){return i},aY:function(){return d},ll:function(){return o}});var a=r(7437),s=r(2265),n=r(6474);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});i.displayName="Card";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});c.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});l.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},3804:function(e,t,r){"use strict";r.d(t,{RM:function(){return o},SC:function(){return l},iA:function(){return i},pj:function(){return u},ss:function(){return d},xD:function(){return c}});var a=r(7437),s=r(2265),n=r(6474);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",r),...s})})});i.displayName="Table";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",r),...s})});c.displayName="TableHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",r),...s})});o.displayName="TableBody";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});l.displayName="TableRow";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...s})});d.displayName="TableHead";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...s})});u.displayName="TableCell"},4362:function(e,t,r){"use strict";r.d(t,{H:function(){return o},a:function(){return l}});var a=r(7437),s=r(2265),n=r(8223),i=r(4242);let c=(0,s.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,s.useState)(null),[l,d]=(0,s.useState)(!0);(0,s.useEffect)(()=>{u()},[]);let u=async()=>{try{if(localStorage.getItem("accessToken")){let e=await n.E.getMe();o(e.data)}}catch(e){console.error("Auth check failed:",e),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")}finally{d(!1)}},f=async(e,t)=>{try{let{accessToken:r,refreshToken:a,user:s}=(await n.E.login(e,t)).data;localStorage.setItem("accessToken",r),localStorage.setItem("refreshToken",a),o(s),i.Am.success("Login successful!")}catch(t){var r,a;let e=(null===(a=t.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.message)||"Login failed";throw i.Am.error(e),t}},h=async(e,t,r)=>{try{let{accessToken:a,refreshToken:s,user:c}=(await n.E.register(e,t,r)).data;localStorage.setItem("accessToken",a),localStorage.setItem("refreshToken",s),o(c),i.Am.success("Registration successful!")}catch(t){var a,s;let e=(null===(s=t.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"Registration failed";throw i.Am.error(e),t}},m=async()=>{try{await n.E.logout()}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),o(null),i.Am.info("Logged out successfully")}};return(0,a.jsx)(c.Provider,{value:{user:r,loading:l,login:f,register:h,logout:m,isAuthenticated:!!r},children:t})}function l(){let e=(0,s.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6474:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(1994),s=r(3335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}},8223:function(e,t,r){"use strict";r.d(t,{E:function(){return n}});var a=r(3464);class s{async login(e,t){return(await this.api.post("/api/auth/login",{email:e,password:t})).data}async register(e,t,r){return(await this.api.post("/api/auth/register",{email:e,username:t,password:r})).data}async logout(){return(await this.api.post("/api/auth/logout")).data}async getMe(){return(await this.api.get("/api/auth/me")).data}async getOpportunities(e){return(await this.api.get("/api/arbitrage/opportunities",{params:e})).data}async getOpportunityById(e){return(await this.api.get("/api/arbitrage/opportunities/".concat(e))).data}async getSummary(){return(await this.api.get("/api/arbitrage/summary")).data}async getStatistics(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"day";return(await this.api.get("/api/arbitrage/statistics",{params:{timeRange:e}})).data}async getUserFilters(){return(await this.api.get("/api/arbitrage/filters")).data}async updateUserFilters(e){return(await this.api.put("/api/arbitrage/filters",e)).data}async getTrades(){return(await this.api.get("/api/trades")).data}async getTradeById(e){return(await this.api.get("/api/trades/".concat(e))).data}async executeTrade(e,t){return(await this.api.post("/api/trades/execute",{opportunityId:e,amount:t})).data}async getTradeStats(){return(await this.api.get("/api/trades/stats")).data}constructor(){this.api=a.Z.create({baseURL:"http://localhost:5000",headers:{"Content-Type":"application/json"},withCredentials:!0}),this.api.interceptors.request.use(e=>{let t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),this.api.interceptors.response.use(e=>e,async e=>{var t;if((null===(t=e.response)||void 0===t?void 0:t.status)===401)try{let t=localStorage.getItem("refreshToken");if(t){let{accessToken:r}=(await this.api.post("/api/auth/refresh",{refreshToken:t})).data.data;if(localStorage.setItem("accessToken",r),e.config)return e.config.headers.Authorization="Bearer ".concat(r),this.api.request(e.config)}}catch(e){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/auth/login"}return Promise.reject(e)})}}let n=new s}},function(e){e.O(0,[350,514,22,971,117,744],function(){return e(e.s=6432)}),_N_E=e.O()}]);